<aura:component controller="HDT_LC_OrderDossierWizard" implements="lightning:isUrlAddressable,flexipage:availableForAllPageTypes,force:appHostable,force:hasRecordId" access="global">

    <aura:attribute name='check' type="Boolean" default="false"/>
    <aura:attribute name='saleId' type="String"/>
    <aura:attribute name='orderParentId' type="String"/>
    <aura:attribute name='orderParentRecord' type="Order"/>
    <aura:attribute name='parentOrderName' type="String"/>
    <aura:attribute name='accountId' type="String"/>
    <aura:attribute name="orderId" type="String"/>

    
    <aura:attribute name='accountName' type="String"/>
    <aura:attribute name="fiscalCode" type="String"/>
    <aura:attribute name="vatNumber" type="String"/>
    <aura:attribute name="columnsDocumenti" type="List"/>
    
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    
    <lightning:navigation aura:id="navService"/>
    <lightning:workspaceAPI aura:id="workspace"/>

    <!-- Header -->
    <aura:if isTrue="{!v.orderParentRecord}">
        <c:hdtOrderDossierWizardHeader orderParentRecord="{!v.orderParentRecord}"></c:hdtOrderDossierWizardHeader>
    </aura:if>

    <!-- lightning path -->
    <aura:if isTrue="{!v.orderParentId}">
        <div class="slds-m-top_small">
            <lightning:path
                aura:id="path" 
                recordId="{!v.orderParentId}"
                variant="non-linear"
                hideUpdateButton="true"
            />
        </div>
    </aura:if>
    
    <!-- Dati firma -->
    <aura:if isTrue="{!v.orderParentRecord}">
        <div class="slds-m-top_small">
            <c:hdtOrderDossierWizardSignature orderParentRecord="{!v.orderParentRecord}"></c:hdtOrderDossierWizardSignature>
        </div>
    </aura:if>

    <!-- Gestione Ordini -->
    <aura:if isTrue="{!v.orderParentId}">
        <div class="slds-m-top_small">
            <c:hdtOrderDossierWizardTable orderParentId="{!v.orderParentId}" onhandlerowactionevent="{!c.handleRowActionEvent}"></c:hdtOrderDossierWizardTable>
        </div>
    </aura:if>

    <!-- Actions buttons -->
    <lightning:card>
        <footer class="slds-clearfix slds-p-right_medium">
            <ul class="slds-button-group-list slds-float_right">
             <!--   <li>
                    <lightning:button variant="destructive"
                                      iconName="utility:cancel_file_request" onclick="{!c.cancel}">
                        Cancel</lightning:button>
                </li> -->
                <li>
                    <lightning:button variant="neutral" onclick="{!c.saveDraft}"
                                      iconName="standard:drafts">
                        Save Draft</lightning:button>
                </li>
                <li><!--5-->
                    <lightning:button variant="brand" onclick="{!c.save}"
                                      iconName="utility:save">
                        Save</lightning:button>
                </li>
            </ul>
        </footer>
    </lightning:card>

</aura:component>

<template>
    <lightning-card>
    <div class="slds-grid slds-grid_vertical">
        <div class="slds-col slds-grid">  
    <div class="slds-form-element__control slds-size_1-of-2 slds-m-top_medium slds-p-left_x-large slds-p-right_small">
        <lightning-combobox data-id="tipoCopia" name="TipoCopia" label="Tipo Copia"
            placeholder="Seleziona Tipologia..." options={tipoCopiaOptions}
            onchange={changeValueTipo} value={typeDefaltValue}
            required>
        </lightning-combobox>
        </div>
        </div></div>

    <template if:true={showParentList}>
            <br></br>  
        <lightning-card title="Gestione Ordini Padri">         
            <lightning-datatable
                key-field="Id"
                data={ordersList}
                columns={columns}
                max-row-selection="1"
                selected-rows={selectedOrderValue}
                onrowselection= {selectedRowHandler}
            ></lightning-datatable>
         
        </lightning-card>
        <template if:true={showChildList}>
            <div class="slds-grid slds-grid_vertical">
                <div class="slds-col slds-grid">
                    <template if:true={showChildList2}>
                        <div class="slds-form-element__control slds-size_1-of-2 slds-m-top_medium slds-p-left_x-large slds-p-right_small">
                            <lightning-combobox data-id="tipoCopia" name="TipoAttivita" label="Tipologia Canale"
                                placeholder="Seleziona Tipologia Canale..." options={tipoAttivitaOptions}
                                onchange={changeValueTipoAttivita}
                                value={selectedActivity}
                                required>
                            </lightning-combobox>
                        </div>
                    </template>
                    <template if:true={isinboundchannel}>
                        <div class="slds-form-element__control slds-size_1-of-2 slds-m-top_medium slds-p-left_x-large slds-p-right_small">
                            <lightning-combobox data-id="tipoCopiaSend" name="TipoAttivita2" label="Invio Doc"
                                placeholder="Seleziona Modalita Invio..." options={tipoAttivitaOptions2}
                                onchange={changeValueTipoAttivita2} value={selectedSend}
                                required>
                            </lightning-combobox>
                        </div>
                    </template>
                </div>

            </div>
            <br/>
            <template if:true={showChildList2}>
                <lightning-card title="Ordini Figli">
                    <lightning-datatable
                        key-field="id"
                        data={orderChildList}
                        hidecheckboxcolumn={hideCheck}
                        selectedrow={selectedrowchild}
                        columns={columnsChild}
                    ></lightning-datatable>
                </lightning-card>
            </template>
            <template if:true={ismessagevisible}>
                I figli sono Stati Tutti Preselezionati <br></br>
                Allega la Richiesta Scritta pervenuta dal cliente
                <br></br>
            </template>
            <template if:true={typeActivity}>
                <c-hdt-upload-documents title="Allega Fatture" is-done={isdonedocument} record-id={recordid} accepted-formats={acceptedFormats}></c-hdt-upload-documents>
            </template>
            <template if:true={showButtonPreview}>
                <div class="slds-form-element__control slds-size_1-of-2 slds-m-top_medium slds-p-left_x-large slds-p-right_small">
                    <lightning-button onclick={handlePreview} class="slds-m-left_x-small" disabled={isSaveButtonDisabled} icon-name="utility:save" variant="brand" label="Preview" title="Preview action"></lightning-button>
                </div>
            </template>
            <div class="slds-form-element__control slds-size_1-of-2 slds-m-top_medium slds-p-left_x-large slds-p-right_small">
                <lightning-button onclick={handleAnnull} class="slds-m-left_x-small" icon-name="utility:save" variant="brand" label="Annulla" title="Annulla"></lightning-button>
                <lightning-button onclick={handleConfirmDraft} class="slds-m-left_x-small" icon-name="utility:save" variant="brand" label="Salva in Bozza" title="Salva in Bozza"></lightning-button>
                <lightning-button onclick={handleConfirm} class="slds-m-left_x-small" icon-name="utility:save" variant="brand" label="Conferma" title="Conferma"></lightning-button>
            </div>
        </template>
        </template>
    </lightning-card>
</template>
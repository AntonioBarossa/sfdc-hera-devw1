<template>
    
    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_small" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1">
        <div class="slds-modal__container">
          <header class="slds-modal__header">
            <button onclick={closeModal} class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close">
                <lightning-icon icon-name="utility:close" alternative-text="close" variant="inverse" size="small" ></lightning-icon>
                <span class="slds-assistive-text">Close</span>
            </button>
            <h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Configura il prodotto opzione</h2>
          </header>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                <lightning-record-edit-form
                    record-id={productOptionId}
                    object-api-name="SBQQ__ProductOption__c"
                    density="comfy"
                    onsuccess={handleSuccess}
                    onload={handleLoad}
                    onerror={handleError}
                    onsubmit={handleSubmit}
                >
            
                    <lightning-messages></lightning-messages>

                    <!--<lightning-input-field field-name="Product__c" value={productid} disabled ></lightning-input-field>-->
                    
                    <div class="slds-section slds-is-open slds-m-left_medium slds-m-right_medium slds-m-top_medium">
                    <h3 class="slds-section__title slds-theme_shade">
                        <span class="slds-truncate slds-p-horizontal_small" title="Informazioni">Informazioni</span>
                    </h3>
                        <div aria-hidden="false" class="slds-section__content">
                            <div class="slds-grid slds-wrap">
                                <template iterator:it={fieldsList}>
                                    <div key={it.value} class="slds-col slds-size_1-of-2 slds-m-top_x-small slds-m-top_medium slds-m-bottom_medium slds-border_bottom">  
                                        <lightning-input-field key={it.value} field-name={it.value} ></lightning-input-field>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </div>
                
                </lightning-record-edit-form>
          </div>
          <footer class="slds-modal__footer">
            <button class="slds-button slds-button_neutral" onclick={closeEditForm} >Annulla</button>
            <button class="slds-button slds-button_brand" onclick={handleSubmitButtonClick} >Avanti</button>
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>

</template>